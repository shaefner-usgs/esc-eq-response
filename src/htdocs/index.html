<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,
      maximum-scale=1.0, user-scalable=0" />
    <title>Earthquake Response App</title>
    <link rel="stylesheet" href="lib/flatpickr/flatpickr.css" />
    <link rel="stylesheet" href="lib/leaflet/leaflet.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600">
  </head>
  <body>
    <header>
      <section id="titleBar">
        <h1>Earthquake Response App</h1>
        <p>Select an earthquake to get started.</p>
      </section>
      <nav id="navBar">
        <ul id="navMain">
          <li><a href="#mapPane">Map</a></li>
          <li><a href="#plotsPane">Plots</a></li>
          <li><a href="#summaryPane">Summary</a></li>
        </ul>
        <ul id="navSub">
          <li><i class="icon-selectBar"></i></li>
          <li><i class="icon-searchBar"></i></li>
          <li><i class="icon-settingsBar"></i></li>
          <li><i class="icon-legendBar"></i></li>
          <li><i class="icon-infoBar"></i></li>
        </ul>
      </nav>
    </header>
    <main>
      <section id="mapPane" class="hide pane">
        <div class="content"></div>
        <div class="map"></div>
      </section>
      <section id="plotsPane" class="hide pane">
        <div class="content"></div>
      </section>
      <section id="summaryPane" class="hide pane">
        <div class="content"></div>
        <time id="updated"></time>
      </section>
      <section id="selectPane">
        <h2>No Mainshock</h2>
        <p><a href="#mapPane" class="select">Select an earthquake</a></p>
      </section>
    </main>
    <aside id="sideBar">
      <form>
        <section id="selectBar" class="bar hide">
          <div class="content">
            <h2>Select an Earthquake</h2>
            <p>Select an earthquake from the list or on the <a href="#mapPane">map</a>,
              or <a href="#" class="search">search</a> the catalog for an
              earthquake. You can also enter an Event ID manually below.</p>
            <h3>Significant Earthquakes <span>Past Month</span></h3>
            <div id="significantEqs"><div class="spinner"></div></div>
            <h3>Mainshock</h3>
            <label for="eqid">Event ID</label>
            <input type="text" id="eqid" value="" required="required"
              pattern="^[^/\\:]+$" tabindex="1" />
            <div class="hide details"></div>
            <button type="reset" id="reset">Reset</button>
          </div>
        </section>
        <section id="settingsBar" class="bar hide">
          <div class="content">
            <h2>Settings</h2>
            <p>Initial values are set automatically based on the selected
              Mainshock’s magnitude and estimated rupture length.</p>
            <div class="aftershocks">
              <h3>Aftershocks
                <span class="hide breather"></span>
                <span class="hide count"></span>
              </h3>
              <label for="as-mag">Min magnitude</label>
              <input type="number" id="as-mag" value="" min="0" max="9"
                step="0.1" autocomplete="off" required="required" tabindex="4" />
              <label for="as-dist">Max distance from Mainshock (km)</label>
              <input type="number" id="as-dist" value="" min="1" step="1"
                autocomplete="off" required="required" tabindex="5" />
            </div>
            <div class="foreshocks">
              <h3>Foreshocks
                <span class="hide breather"></span>
                <span class="hide count"></span>
              </h3>
              <label for="fs-mag">Min magnitude</label>
              <input type="number" id="fs-mag" value="" min="0" max="9"
                step="0.1" autocomplete="off" required="required" tabindex="6" />
              <label for="fs-dist">Max distance from Mainshock (km)</label>
              <input type="number" id="fs-dist" value="" min="1" step="1"
                autocomplete="off" required="required" tabindex="7" />
              <label for="fs-days">Max days before Mainshock</label>
              <input type="number" id="fs-days" value="" min="1" step="1"
                autocomplete="off" required="required" tabindex="8" />
            </div>
            <div class="historical">
              <h3>Historical Seismicity
                <span class="hide breather"></span>
                <span class="hide count"></span>
              </h3>
              <label for="hs-mag">Min magnitude</label>
              <input type="number" id="hs-mag" value="" min="0" max="9"
                step="0.1" autocomplete="off" required="required" tabindex="9" />
              <label for="hs-dist">Max distance from Mainshock (km)</label>
              <input type="number" id="hs-dist" value="" min="1" step="1"
                autocomplete="off" required="required" tabindex="10" />
              <label for="hs-years">Max years before Mainshock</label>
              <input type="number" id="hs-years" value="" min="1" step="1"
                autocomplete="off" required="required" tabindex="11" />
            </div>
            <h3>Earthquake Catalog</h3>
            <ul class="options catalog">
              <li id="comcat" class="selected">ComCat</li>
              <li id="dd">Double Difference</li>
            </ul>
            <p>When you customize the settings, the
              <abbr title="Uniform Resource Locator (web address)">URL</abbr> is
              automatically updated to reflect the new values, making it easy
              to share or bookmark your settings.</p>
            <p class="required">* All fields are required</p>
          </div>
        </section>
      </form>
      <section id="searchBar" class="bar hide">
        <div class="content">
          <h2>Find an Earthquake</h2>
          <p>Search the earthquake catalog and display the results on the
            <a href="#mapPane">map</a>.</p>
          <h3>Magnitude</h3>
          <div class="slider-container">
            <div class="min">0</div>
            <div class="inverted slider" style="--min:0; --max:8; --val:3.5;">
              <input id="catalog" type="range" min="0" max="8" step="0.5"
                value="3.5" autocomplete="off">
              <output for="catalog">3.5</output>
            </div>
            <div class="max">8</div>
          </div>
          <h3>Time Period</h3>
          <ul class="options period">
            <li id="month" class="selected">Past Month</li>
            <li id="week">Past Week</li>
            <li id="day">Past Day</li>
            <li id="customPeriod">Custom</li>
          </ul>
          <div class="customPeriod hide option">
            <div class="dates">
              <div>
                <label for="begin">Begin</label>
                <input type="text" id="begin" required="required" tabindex="2">
              </div>
              <span>–</span>
              <div>
                <label for="end">End</label>
                <input type="text" id="end" required="required" tabindex="3">
              </div>
            </div>
            <p class="utc">Use UTC time for custom dates.</p>
          </div>
          <h3>Region</h3>
          <ul class="options region">
            <li id="worldwide" class="selected">Worldwide</li>
            <li id="customRegion">Custom</li>
          </ul>
          <div class="customRegion hide option"></div>
          <p class="instructions hide">Click and drag to draw a new custom region.</p>
          <button type="button" id="search">Search</button>
        </div>
      </section>
      <section id="legendBar" class="bar hide">
        <div class="content">
          <h2>Legend</h2>
          <ul>
            <li class="mainshock">Mainshock</li>
            <li class="aftershocks">Aftershocks, Catalog Search
              <ul>
                <li class="asHour">Past hour</li>
                <li class="asDay">Past day</li>
                <li class="asWeek">Past week</li>
                <li class="asOlder">Older</li>
              </ul>
            </li>
            <li class="foreshocks">Foreshocks</li>
            <li class="historical">Historical Seismicity</li>
            <li class="magnitude">Magnitude</li>
            <li class="fieldnotes">FieldNotes
              <img src="img/pin-s-star+c0f@2x.png" alt="fieldnotes icon" />
            </li>
            <li class="faults">Faults, Plate Boundaries</li>
            <li class="shakemap">ShakeMap Stations</li>
            <li class="intensity">Intensity
              <img src="img/legend-intensity.png" alt="intensity scale" />
            </li>
          </ul>
        </div>
      </section>
      <section id="infoBar" class="bar hide">
        <div class="content">
          <h2>Earthquake Response App</h2>
          <p>This web application creates an interactive Map, Plots, and Summary
            of any earthquake using real-time data. It helps you visualize,
            analyze, and collect information to use in talking points and
            scientific response.</p>
          <p>Earthquake data is from
            <a href="https://earthquake.usgs.gov/data/comcat/">ComCat</a> and/or
            <a href="https://service.ncedc.org/fdsnws/event/1/">NCEDC</a>.
          </p>
          <h3>Tips</h3>
          <ol class="iconlist">
            <li>Click on an earthquake in a summary list or on a (2d) plot
              to view the earthquake and additional details on the map.
            </li>
            <li>Avoid unintentionally interacting with the plots by scrolling
               on the left / right edges of the page. Use the ‘control’ key to
               pan a 3d plot.
            </li>
          </ol>
          <h3>Contacts</h3>
          <ul>
            <li><a href="mailto:shaefner@usgs.gov">Scott Haefner</a></li>
            <li><a href="mailto:baagaard@usgs.gov">Brad Aagaard</a></li>
          </ul>
          <p class="github">
            <a href="https://github.com/shaefner-usgs/esc-eq-response">Github
              repository</a>
          </p>
        </div>
      </section>
      <a class="icon-close">×</a>
    </aside>
    <footer>
      <div id="statusBar">
        <div class="initial">
          <h4>Loading<span class="ellipsis"><span>.</span><span>.</span><span>.</span></span></h4>
        </div>
      </div>
    </footer>
    <script src="lib/flatpickr/flatpickr.js"></script>
    <script src="lib/leaflet/leaflet.js"></script>
    <script src="lib/plotly/plotly-gl3d.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=AbortController"></script>
    <script src="js/index.js"></script>
  </body>
</html>
